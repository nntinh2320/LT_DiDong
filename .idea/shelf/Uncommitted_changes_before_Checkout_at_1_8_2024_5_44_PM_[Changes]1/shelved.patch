Index: app/src/main/java/com/tutlane/afinal/OrderDetailFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.tutlane.afinal;\r\n\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport android.database.Cursor;\r\nimport android.graphics.Color;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.BaseAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\npublic class OrderDetailFragment extends Fragment\r\n{\r\n    public OrderDetailFragment()\r\n    {}\r\n\r\n    private ListView lv;\r\n    private MediMartDbHelper db;\r\n    private TextView tv;\r\n    private LinearLayout ll;\r\n    private SharedPreferences sp;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View vv =inflater(R.layout.fragment_order_details,container,false);\r\n        lv=vv.findViewById(R.id.lvsub);\r\n        db=new MediMartDbHelper(getContext());\r\n        tv=vv.findViewById(R.id.textview30);\r\n        ll=vv.findViewById(R.id.linearLayout3);\r\n        sp=getActivity().getSharedPreferences(\"users\", Context.MODE_PRIVATE);\r\n        final  String orderid=getArguments().getString(\"orderid\");\r\n        tv.setText(\"Order Details of\"+orderid);\r\n        Cursor cx=db.getOrderDetails(orderid);\r\n        CustomAdapter adp=new CustomAdapter(cx);\r\n        String role =sp.getString (\"role\",\"no\");\r\n        cx.moveToFirst();\r\n        String status=cx.getString(6);\r\n        if(role.equals(\"admin\"))\r\n        {\r\n            Button b1=new Button(getContext())  ;\r\n            b1.setText(\"Confirm Order\");\r\n            b1.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                    ViewGroup.LayoutParams.WRAP_CONTENT,1));\r\n            b1.setBackgroundColor(Color.BLUE);\r\n            b1.setTextColor(Color.WHITE);\r\n            b1.setOnClickListener((view)->{\r\n                Toast.makeText(getContext(),\"Order Confirm\",Toast.LENGTH_SHORT).show();\r\n                db.changeStatus(orderid,\"Confirmed\");\r\n                MediMartUtils.loadwithoutHistoryFragment(getActivity(),new OrderFragment());\r\n            });\r\n            Button b2=new Button(getContext())  ;\r\n            b2.setText(\"Cancel Order\");\r\n            b2.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                    ViewGroup.LayoutParams.WRAP_CONTENT,1));\r\n            b2.setBackgroundColor(Color.RED);\r\n            b2.setTextColor(Color.WHITE);\r\n            b2.setOnClickListener((view)->{\r\n                db.changeStatus(orderid,\"Cancelled due to Out of Stock\");\r\n                Toast.makeText(getContext(),\"Order Cancelled\",Toast.LENGTH_SHORT).show();\r\n                MediMartUtils.loadwithoutHistoryFragment(getActivity(),new OrderFragment());\r\n            });\r\n            ll.addView(b1);\r\n            ll.addView(b2);\r\n        }\r\n        else{\r\n            TextView tv=new TextView(getContext());\r\n            tv.setLayoutParams(\r\n                    new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,\r\n                            ViewGroup.LayoutParams.WRAP_CONTENT,1));\r\n            tv.setText(\"Order Status\"+status);\r\n            tv.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\r\n            tv.setPadding(10,10,10,10);\r\n            tv.setTextColor(Color.BLACK);\r\n            tv.setTextSize(16);\r\n            ll.addView(tv);\r\n            }\r\n        lv.setAdapter(adp);\r\n        return vv;\r\n        }\r\n\r\n        class CustomAdapter extends BaseAdapter{\r\n\r\n        private Cursor c;\r\n\r\n        private  CustomAdapter(Cursor c)\r\n        {\r\n            this.c=c;\r\n        }\r\n            @Override\r\n            public int getCount() {\r\n                return c.getCount();\r\n            }\r\n\r\n            @Override\r\n            public Object getItem(int position) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public long getItemId(int position) {\r\n                return 0;\r\n            }\r\n\r\n            @Override\r\n            public View getView(int position, View convertView, ViewGroup parent) {\r\n                View vv =getLayoutInflater().inflate(R.layout.inner_lv_item,parent,false);\r\n                TextView tv1=vv.findViewById(R.id.textView19);\r\n                TextView tv2=vv.findViewById(R.id.textView20);\r\n                TextView tv3=vv.findViewById(R.id.textView29);\r\n                c.moveToNext();\r\n                String pname=c.getString(2);\r\n                tv1.setText(\"Product: \"+pname);\r\n                tv2.setText(\"Qty\"+c.getString(3));\r\n                tv3.setText(\"Price Rs:\"+getPrice(pname));\r\n                return vv;\r\n            }\r\n            private int getPrice(String pname)\r\n            {\r\n                for(Product p :SplashScreen.plist)\r\n                {\r\n                    if(p.getPname().equals(pname))\r\n                    {\r\n                        return p.getPrice();\r\n                    }\r\n                }\r\n                return 0;\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/tutlane/afinal/OrderDetailFragment.java b/app/src/main/java/com/tutlane/afinal/OrderDetailFragment.java
--- a/app/src/main/java/com/tutlane/afinal/OrderDetailFragment.java	
+++ b/app/src/main/java/com/tutlane/afinal/OrderDetailFragment.java	
@@ -33,7 +33,7 @@
     @Nullable
     @Override
     public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
-        View vv =inflater(R.layout.fragment_order_details,container,false);
+        View vv = inflater(R.layout.fragment_order_details,container,false);
         lv=vv.findViewById(R.id.lvsub);
         db=new MediMartDbHelper(getContext());
         tv=vv.findViewById(R.id.textview30);
Index: app/src/main/java/com/tutlane/afinal/CategoryFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.tutlane.afinal;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Filter;\r\nimport android.widget.Filterable;\r\nimport android.widget.ImageView;\r\nimport android.widget.SearchView;\r\nimport android.widget.TextView;\r\nimport android.window.SplashScreen;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.sql.Array;\r\nimport java.util.ArrayList;\r\n\r\npublic class CategoryFragment extends Fragment {\r\n    public CategoryFragment(){\r\n\r\n    }\r\n\r\n    private RecyclerView rv;\r\n    private SearchView.OnQueryTextListener queryTextListener;\r\n    private SearchView searchView=null;\r\n    private RVAdapter adp;\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState){\r\n        View vv= inflater.inflate(R.layout.fragment_category,container,false);\r\n        rv=vv.findViewById(R.id.rvgrid);\r\n        rv.setLayoutManager(new GridLayoutManager(getActivity(),3));\r\n        rv.setHasFixedSize(true);\r\n        Bundle b=getArguments();\r\n\r\n        List<Product> plist=new ArrayList<>();\r\n\r\n        if(b!=null){\r\n            String cat=b.getString(\"cat\").trim();\r\n            for(Product p: SplashScreen.plist){\r\n                if(p.getPcat().trim().equalsIgnoreCase(cat)){\r\n                    plist.add(p);\r\n                }\r\n            }\r\n        }\r\n        else{\r\n            plist=SplashScreen.plist;\r\n        }\r\n        adp=new RVAdapter(plist);\r\n        rv.setAdapter(adp);\r\n        return vv;\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull Menu menu, @NonNull MenuInflater inflater){\r\n        menu.clear();\r\n        inflater.inflate(R.menu.search_menu,menu);\r\n        MenuItem searchItem=menu.findItem(R.id.app_bar_search);\r\n        if(searchItem!=null){\r\n            Log.d(\"anand\",\"onCreateOptiosnMenu\");\r\n            searchView=(SearchView) searchItem.getActionView();\r\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n                @Override\r\n                public boolean onQueryTextSubmit(String query) {\r\n                    Log.d(\"anand\",\"onQueryTextSubmit:\"+query);\r\n                    return true;\r\n                }\r\n\r\n                @Override\r\n                public boolean onQueryTextChange(String newText) {\r\n                    Log.d(\"anand\",\"onQueryTextSubmit:\"+newText);\r\n                    adp.getFilter().filter(newText);\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item){return true;}\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setHasOptionsMenu(true);\r\n    }\r\n    class RVViewHolder extends RecyclerView.ViewHolder{\r\n        public ImageView ivpic;\r\n        public TextView tvpname;\r\n        public TextView tvprice;\r\n        public RVViewHolder(@NonNull View itemView){\r\n            super(itemView);\r\n            tvpname=itemView.findViewById(R.id.tvpname);\r\n            tvprice=itemView.findViewById(R.id.tvprice);\r\n            ivpic=itemView.findViewById(R.id.ivprod);\r\n        }\r\n        public void setData(Product p){\r\n            tvpname.setText(p.getPname());\r\n            tvprice.setText(\"\"+p.getPrice());\r\n            Glide.with(getContext()).load(p.getPic())\r\n                    .into(ivpic);\r\n        }\r\n    }\r\n    class RVAdapter extends RecyclerView.Adapter<RVViewHolder> implements Filterable{\r\n        private List<Product> list;\r\n        private List<Product> templist=new ArrayList<>();\r\n        public RVAdapter(List<Product> list){\r\n            this.list=list;\r\n            templist.addAll(list);\r\n        }\r\n        @NonNull\r\n        @Override\r\n        public RVViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType){\r\n            View vv= LayoutInflater.from(getContext()).inflate(R.layout.gv_product_item,parent,false);\r\n            RVViewHolder rvViewHolder=new RVViewHolder(vv);\r\n            return rvViewHolder;\r\n        }\r\n        @Override\r\n        public void onBindViewHolder(@NonNull RVViewHolder holder, final int position){\r\n            holder.setData(list.get(position));\r\n            holder.itemView.setOnClickListener(v -> {\r\n                DetailsFragment df=new DetailsFragment();\r\n                Bundle bundle=new Bundle();\r\n                bundle.putString(\"pname\",list.get(position).getPname());\r\n                df.setArguments(bundle);\r\n                MediMartUtils.loadFragment(getActivity(),df);\r\n            });\r\n        }\r\n        @Override\r\n        public int getItemCount(){return list.size();}\r\n\r\n        @Override\r\n        public Filter getFilter(){\r\n            return new Filter(){\r\n                @Override\r\n                protected FilterResults performFiltering(CharSequence charSequence){\r\n                    Log.d(\"anand\",\"performFiltering: \"+charSequence);\r\n                    List<Product> filteredList=new ArrayList<>();\r\n                    if(charSequence==null || charSequence.length()==0){\r\n                        filteredList.addAll(templist);\r\n                    }\r\n                    else{\r\n                        String pattern=charSequence.toString().trim().toLowerCase();\r\n                        for(Product p : templist){\r\n                            if(p.getPname().toLowerCase().trim().contains(pattern)){\r\n                                filteredList.add(p);\r\n                            }\r\n                        }\r\n                    }\r\n                    FilterResults results = new FilterResults();\r\n                    results.values=filteredList;\r\n                    return results;\r\n                }\r\n                @Override\r\n                protected void publishResults(CharSequence charSequence,FilterResults filterResults){\r\n                    list.clear();\r\n                    list.addAll((List<Product>)filterResults.values);\r\n                    notifyDataSetChanged();\r\n                }\r\n            };\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/tutlane/afinal/CategoryFragment.java b/app/src/main/java/com/tutlane/afinal/CategoryFragment.java
--- a/app/src/main/java/com/tutlane/afinal/CategoryFragment.java	
+++ b/app/src/main/java/com/tutlane/afinal/CategoryFragment.java	
@@ -23,6 +23,7 @@
 
 import java.sql.Array;
 import java.util.ArrayList;
+import java.util.List;
 
 public class CategoryFragment extends Fragment {
     public CategoryFragment(){
